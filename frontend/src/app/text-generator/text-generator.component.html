<div class="container my-5">
  <h1 class="text-center mb-4">Text Generator Page</h1>

  <div class="text-center my-4">
    <button type="button" class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#emotionModal">
      View Emotion Descriptions
    </button>
  </div>
  
  <div class="card p-4">
    <div class="card-body">
      <!-- <div class="mb-3">
        <input [(ngModel)]="prompt" placeholder="Ask me anything..." class="form-control mb-2" />
        <button (click)="sendMessage()" class="btn btn-primary btn-lg mt-3">Generate</button>
      </div>-->

      <div class="story-container mt-3">
        <div class="user-story-container">
          <h2>Your Generated Story - {{ story_moral }}</h2>
          <p>
            <span class="text-primary">{{ story_character }}</span> was indeed a very hardworking man who put in all his efforts in all possible ways. Every morning he woke up early and got prepared for work meticulously to support his family most effectively. But unfortunately, things started going totally non-synchronized, one fine day.
            This particular morning, the alarm failed to ring, and therefore <span class="text-primary">{{ story_character }}</span> woke up late. In haste he got up and started living his daily life. He wore a shirt on which some coffee spilled and he got out just missing the usual bus. The rest of it was forced to be walked under a chilly and drizzling rain to get to work. <span class="text-primary">{{ story_character }}</span> noted how the rain fell and continued to match his steadily growing exasperation and sense of unluckiness. <span class="text-primary">{{ frustration }}</span>
          </p>
          <p>
            Thanks to the plethora of obstacles piling up in his life, he had exceeded that last point and went further. He had finally made it to work, only to continue discovering frustration. His computer failed him on an important assignment, and everyone else seemed too busy burning their bridges to offer assistance. Every tiny mishap continued accumulating, leaving him tired and mufing up the morale. <span class="text-primary">{{ story_character }}</span> heaved a frustrated sigh, staring at his screen, feeling utterly defeated by everything around him. <span class="text-primary">{{ sadness }}</span>
          </p>
          <p>
            Things couldn't get any worse, just as he thought. His boss calls him into the office. "<span class="text-primary">{{ story_character }}</span>, your work has been sloppy lately," said the boss coldly. He added, "If this continues, we may need to reconsider your position here." A sudden wave of fear gripped him. He had worked tireless days; now, one bad day could cost him everything. His hands trembled leaving the office; his heart was pounding. <span class="text-primary">{{ fear }}</span>
          </p>
          <p>
            At lunch hour, <span class="text-primary">{{ story_character }}</span> sat there alone, gripping a sandwich with white knuckle fingers. One coworker bumped into him; his food hit the floor. "Hey, watch it <span class="text-primary">{{ story_character }}</span>," the man dismissively muttered. That was the last straw. Anger erupted in <span class="text-primary">{{ story_character }}</span>'s chest. "Are you kidding me?!," he snapped, standing abruptly. But when he saw both men's shocked look, he bit his tongue and stormed out to seethe. <span class="text-primary">{{ anger }}</span>
          </p>
          <p>
            After a rough day at work, in busy streets <span class="text-primary">{{ story_character }}</span> walked home. There were thousands of things racing through his mind frustration, worry, exhaustion, and everything too. It was then that he saw an elderly lady standing at a very crowded sidewalk. Cars rushed past, and she looked like she didn't have the courage to cross such a busy road. Although he was so much into his own trouble, somehow there was that tug he could feel within him to help. <span class="text-primary">{{ empathy }}</span>
          </p>
          <p>
            He did stop for a moment. "I am already having my worst day. Why even bother?" But this egoistic thought was remove from his mind. Something very deep was urging him forward. He went to her and said, "May I help you cross over the street?" The eyes of the woman brightened up instantaneously with an illumination associated with relief. "Oh, it would be a wonderful favor." He carefully took her across this street, protecting her from the flow of impatient rushing cars. When they reached just at the other side of the street, the woman squeezed his hand, saying, "You have a very kind heart, young man." <span class="text-primary">{{ gratitude }}</span> <span class="text-primary">{{ protectiveness }}</span>
          </p>
          <p>
            At that moment, for the first time in a long time, something inside <span class="text-primary">{{ story_character }}</span> changed. He found peace in this simple act of kindness to a stranger that would have been missing from his life for a while now. <span class="text-primary">{{ serenity }}</span>
          </p>
          <p>
            Later that night, <span class="text-primary">{{ story_character }}</span> reached home only to find an unexpected surprise lying on his doorstep: a tiny little package along with a handwritten note. The note written by the elderly lady acknowledged her heartfelt gratitude. Within that package was a pair of gloves with a simple message inscribed, "Kindness is a reward." <span class="text-primary">{{ story_character }}</span>'s eyes went wide as he read the note, and warmth began swell in his chest. And for the first time that day, that was a smile of <span class="text-primary">{{ story_character }}</span>'s that could be described as genuine. <span class="text-primary">{{ joy }}</span>
          </p>
          <p>
            It has changed the entire scenario; most importantly, it brings some happiness and brightness. Even on a day that feels like it was filled with constant misfortunes, it feels great to have one's kindness appreciated and recognized. In the end, it just goes to show-and point out, really-that even on the worst days, such an act, no matter the proportion, can change everything. Inspired by the experience, he determined to keep helping others, though difficult his circumstances became. <span class="text-primary">{{ hope }}</span>
          </p>
          <p>
            The next morning came into play with the strangest of happenings. As he entered his work, he saw the coworker whom he had snapped at yesterday. It would have been easy to ignore him, but instead <span class="text-primary">{{ story_character }}</span> took a breath and said, "Hey... I'm sorry about yesterday." The man blinked at him in surprise, then laughed and said, "No worries, <span class="text-primary">{{ story_character }}</span>. I was in a bad mood, too." Then they shook hands, and for the first time ever, <span class="text-primary">{{ story_character }}</span> felt a sense of kinship with another human being in the workplace. <span class="text-primary">{{ friendship }}</span>
          </p>
          <p>
            Thus, <span class="text-primary">{{ story_character }}</span> was called again by his boss, only this time the tone was entirely different. "I've been watching you, <span class="text-primary">{{ story_character }}</span>. I see improvement. Keep it up." Relief flooded <span class="text-primary">{{ story_character }}</span>'s chest. He was convinced he might well be on the verge of losing everything; instead there turned out to be a way forward. <span class="text-primary">{{ relief }}</span>
          </p>
          <p>
            He could feel the care for others in him-from within. He now knew how much people's suffering mirrored with his own, and for the first time, he felt other people's suffering with a weight never felt before. <span class="text-primary">{{ compassion }}</span> He reflected on how he had judged people too early, not understanding that they had unseen burdens much like himself.
          </p>
          <p>
            He sat in silent deliberation, understanding what this harsh day really meant for him. He had thought that suffering hardship meant only pain but has now discovered the hidden meaning within. <span class="text-primary">{{ self_reflection }}</span> It has brought him under fire and has helped him to discover more deeply his understanding of himself and his environment.
          </p>
          <p>
            As a bright candle of hope, his story spread all over the community. People started thinking that no matter how wrong life seems at times, small acts of generosity and care could create ripples of change. The unlucky day for <span class="text-primary">{{ story_character }}</span> became a historic day-proving that every challenge has a chance to make this world a bit brighter. <span class="text-primary">{{ inspiration }}</span>
          </p>
        </div>
        
        <div class="story-container mt-3">
          <div class="chat-container">
            <h2>AI Generated Story - {{ ai_story_moral }}</h2>
            <p>
              <span class="text-primary">{{ ai_story_character }}</span> was indeed a very hardworking man who put in all his efforts in all possible ways. Every morning he woke up early and got prepared for work meticulously to support his family most effectively. But unfortunately, things started going totally non-synchronized, one fine day.
              This particular morning, the alarm failed to ring, and therefore <span class="text-primary">{{ ai_story_character }}</span> woke up late. In haste he got up and started living his daily life. He wore a shirt on which some coffee spilled and he got out just missing the usual bus. The rest of it was forced to be walked under a chilly and drizzling rain to get to work. <span class="text-primary">{{ ai_story_character }}</span> noted how the rain fell and continued to match his steadily growing exasperation and sense of unluckiness. <span class="text-primary">{{ ai_frustration }}</span>
            </p>
            <p>
              Thanks to the plethora of obstacles piling up in his life, he had exceeded that last point and went further. He had finally made it to work, only to continue discovering frustration. His computer failed him on an important assignment, and everyone else seemed too busy burning their bridges to offer assistance. Every tiny mishap continued accumulating, leaving him tired and mufing up the morale. <span class="text-primary">{{ ai_story_character }}</span> heaved a frustrated sigh, staring at his screen, feeling utterly defeated by everything around him. <span class="text-primary">{{ ai_sadness }}</span>
            </p>
            <p>
              Things couldn't get any worse, just as he thought. His boss calls him into the office. "<span class="text-primary">{{ ai_story_character }}</span>, your work has been sloppy lately," said the boss coldly. He added, "If this continues, we may need to reconsider your position here." A sudden wave of fear gripped him. He had worked tireless days; now, one bad day could cost him everything. His hands trembled leaving the office; his heart was pounding. <span class="text-primary">{{ ai_fear }}</span>
            </p>
            <p>
              At lunch hour, <span class="text-primary">{{ ai_story_character }}</span> sat there alone, gripping a sandwich with white knuckle fingers. One coworker bumped into him; his food hit the floor. "Hey, watch it <span class="text-primary">{{ ai_story_character }}</span>," the man dismissively muttered. That was the last straw. Anger erupted in <span class="text-primary">{{ ai_story_character }}</span>'s chest. "Are you kidding me?!," he snapped, standing abruptly. But when he saw both men's shocked look, he bit his tongue and stormed out to seethe. <span class="text-primary">{{ ai_anger }}</span>
            </p>
            <p>
              After a rough day at work, in busy streets <span class="text-primary">{{ ai_story_character }}</span> walked home. There were thousands of things racing through his mind frustration, worry, exhaustion, and everything too. It was then that he saw an elderly lady standing at a very crowded sidewalk. Cars rushed past, and she looked like she didn't have the courage to cross such a busy road. Although he was so much into his own trouble, somehow there was that tug he could feel within him to help. <span class="text-primary">{{ ai_empathy }}</span>
            </p>
            <p>
              He did stop for a moment. "I am already having my worst day. Why even bother?" But this egoistic thought was removed from his mind. Something very deep was urging him forward. He went to her and said, "May I help you cross over the street?" The eyes of the woman brightened up instantaneously with an illumination associated with relief. "Oh, it would be a wonderful favor." He carefully took her across this street, protecting her from the flow of impatient rushing cars. When they reached just at the other side of the street, the woman squeezed his hand, saying, "You have a very kind heart, young man." <span class="text-primary">{{ ai_gratitude }}</span> <span class="text-primary">{{ ai_protectiveness }}</span>
            </p>
            <p>
              At that moment, for the first time in a long time, something inside <span class="text-primary">{{ ai_story_character }}</span> changed. He found peace in this simple act of kindness to a stranger that would have been missing from his life for a while now. <span class="text-primary">{{ ai_serenity }}</span>
            </p>
            <p>
              Later that night, <span class="text-primary">{{ ai_story_character }}</span> reached home only to find an unexpected surprise lying on his doorstep: a tiny little package along with a handwritten note. The note written by the elderly lady acknowledged her heartfelt gratitude. Within that package was a pair of gloves with a simple message inscribed, "Kindness is a reward." <span class="text-primary">{{ ai_story_character }}</span>'s eyes went wide as he read the note, and warmth began swell in his chest. And for the first time that day, that was a smile of <span class="text-primary">{{ ai_story_character }}</span>'s that could be described as genuine. <span class="text-primary">{{ ai_joy }}</span>
            </p>
            <p>
              It has changed the entire scenario; most importantly, it brings some happiness and brightness. Even on a day that feels like it was filled with constant misfortunes, it feels great to have one's kindness appreciated and recognized. In the end, it just goes to show-and point out, really-that even on the worst days, such an act, no matter the proportion, can change everything. Inspired by the experience, he determined to keep helping others, though difficult his circumstances became. <span class="text-primary">{{ ai_hope }}</span>
            </p>
            <p>
              The next morning came into play with the strangest of happenings. As he entered his work, he saw the coworker whom he had snapped at yesterday. It would have been easy to ignore him, but instead <span class="text-primary">{{ ai_story_character }}</span> took a breath and said, "Hey... I'm sorry about yesterday." The man blinked at him in surprise, then laughed and said, "No worries, <span class="text-primary">{{ ai_story_character }}</span>. I was in a bad mood, too." Then they shook hands, and for the first time ever, <span class="text-primary">{{ ai_story_character }}</span> felt a sense of kinship with another human being in the workplace. <span class="text-primary">{{ ai_friendship }}</span>
            </p>
            <p>
              Thus, <span class="text-primary">{{ ai_story_character }}</span> was called again by his boss, only this time the tone was entirely different. "I've been watching you, <span class="text-primary">{{ ai_story_character }}</span>. I see improvement. Keep it up." Relief flooded <span class="text-primary">{{ ai_story_character }}</span>'s chest. He was convinced he might well be on the verge of losing everything; instead there turned out to be a way forward. <span class="text-primary">{{ ai_relief }}</span>
            </p>
            <p>
              He could feel the care for others in him-from within. He now knew how much people's suffering mirrored with his own, and for the first time, he felt other people's suffering with a weight never felt before. <span class="text-primary">{{ ai_compassion }}</span> He reflected on how he had judged people too early, not understanding that they had unseen burdens much like himself.
            </p>
            <p>
              He sat in silent deliberation, understanding what this harsh day really meant for him. He had thought that suffering hardship meant only pain but has now discovered the hidden meaning within. <span class="text-primary">{{ ai_self_reflection }}</span> It has brought him under fire and has helped him to discover more deeply his understanding of himself and his environment.
            </p>
            <p>
              As a bright candle of hope, his story spread all over the community. People started thinking that no matter how wrong life seems at times, small acts of generosity and care could create ripples of change. The unlucky day for <span class="text-primary">{{ ai_story_character }}</span> became a historic day-proving that every challenge has a chance to make this world a bit brighter. <span class="text-primary">{{ ai_inspiration }}</span>
            </p>
          </div>
        </div>








<!--        <div *ngIf="response" class="chat-container mt-3">
          <h2>AI Generated Story</h2>
          <div class="chat-message bot-message">
            <div class="message-content">{{ response }}</div>
          </div>
        </div> -->
      </div>
    </div>
  </div>



  <!-- Modal -->
  <div class="modal fade" id="emotionModal" tabindex="-1" aria-labelledby="emotionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="emotionModalLabel">Emotion Descriptions</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Emotion</th>
                <th>Description</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Frustration üò§</td>
                <td>Feeling annoyed or upset when something doesn‚Äôt go your way.</td>
                <td>Trying to solve a math problem but getting the wrong answer every time.</td>
              </tr>
              <tr>
                <td>Sadness üò¢</td>
                <td>Feeling unhappy or down, often because of loss or disappointment.</td>
                <td>A child losing their favorite toy and feeling heartbroken.</td>
              </tr>
              <tr>
                <td>Fear üò®</td>
                <td>A strong feeling of worry or danger.</td>
                <td>Hearing a loud noise in the dark when you're home alone.</td>
              </tr>
              <tr>
                <td>Anger üò°</td>
                <td>Feeling mad because something feels unfair or wrong.</td>
                <td>Someone cuts in front of you in a long line.</td>
              </tr>
              <tr>
                <td>Empathy üß°</td>
                <td>Understanding and sharing someone else‚Äôs feelings.</td>
                <td>Seeing a friend cry and feeling sad for them.</td>
              </tr>
              <tr>
                <td>Gratitude üôè</td>
                <td>Feeling thankful for something or someone.</td>
                <td>Appreciating a friend who helped you when you needed support.</td>
              </tr>
              <tr>
                <td>Protectiveness üõ°Ô∏è</td>
                <td>The strong urge to keep someone safe.</td>
                <td>A parent holding their child‚Äôs hand tightly when crossing the street.</td>
              </tr>
              <tr>
                <td>Serenity üåø</td>
                <td>A peaceful and calm feeling.</td>
                <td>Sitting by a quiet lake, listening to the gentle sound of the water.</td>
              </tr>
              <tr>
                <td>Joy üòÑ</td>
                <td>A feeling of great happiness.</td>
                <td>A child opening a gift and finding their dream toy inside.</td>
              </tr>
              <tr>
                <td>Hope ‚ú®</td>
                <td>Believing that something good will happen in the future.</td>
                <td>Studying hard because you believe you‚Äôll pass the exam.</td>
              </tr>
              <tr>
                <td>Friendship ü§ù</td>
                <td>A deep and meaningful connection with someone.</td>
                <td>Sharing secrets and laughs with a best friend.</td>
              </tr>
              <tr>
                <td>Relief üòå</td>
                <td>Feeling relaxed after stress or worry goes away.</td>
                <td>Finding your lost phone after thinking it was gone forever.</td>
              </tr>
              <tr>
                <td>Compassion üíû</td>
                <td>Caring about someone‚Äôs suffering and wanting to help.</td>
                <td>Helping an injured bird and taking care of it.</td>
              </tr>
              <tr>
                <td>Self-Reflection ü§î</td>
                <td>Thinking deeply about yourself, your actions, and your choices.</td>
                <td>Realizing you were wrong in an argument and deciding to apologize.</td>
              </tr>
              <tr>
                <td>Inspiration üåü</td>
                <td>Feeling motivated to do something great.</td>
                <td>Watching a successful athlete and deciding to train hard for your own goals.</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>



  <div class="text-center mt-5">
    <p class="text-muted">
      If you think any of the AI-generated content is better, please go back and add it to your story.
    </p>
    <button (click)="navigateBack()" class="btn btn-secondary btn-lg mb-5">Back to Story Building</button>
  </div>
  <div class="text-center">
    <button (click)="navigateToSubmitExercise1()" class="btn btn-success btn-lg mb-5">Go to Submit Exercise 1</button>
  </div>
</div>
