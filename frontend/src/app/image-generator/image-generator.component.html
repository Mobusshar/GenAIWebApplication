<div class="container my-5">
  <h1 class="mt-5 text-center">AI Image Generator</h1>

  <!-- Section to Download the Image -->
  <div class="mt-4 text-center">
    <h3>Step 1: Download the Image or ask for a printed image to the course teacher</h3>
    <img src="assets/car_interior.jpg" alt="Car Interior" class="img-fluid mb-3" style="max-width: 700px;">
  </div>

  <div class="mt-4 text-center">
    <a href="assets/car_interior.jpg" download="car_interior.jpg" class="btn btn-primary">Download Image</a>
  </div>

  <hr>

  <!-- Section to Upload the Sketched Image -->
  <div class="mt-4">
    <h3>Step 2: Upload Your Hand Sketched Image Here</h3>
    <div class="form-group mt-3">
      <label for="sketch_upload_path_before">Upload your sketched image (Before AI):</label>
      <input
        type="file"
        id="sketch_upload_path_before"
        (change)="onFileSelected($event)"
        class="form-control"
        accept="image/*"
        required
      />
    </div>
  </div>

  <hr>

  <!-- Section to Describe Products -->
  <div class="mt-4">
    <h3>Step 3: Describe Your Products</h3>
    <form #productDescriptionForm="ngForm">
      <!-- Product 1 -->
      <div class="form-group mb-3">
        <label for="product1_description">Product 1 Description:</label>
        <textarea id="product1_description" name="product1_description" class="form-control" rows="2" [(ngModel)]="product1_description" required></textarea>
      </div>
      <div class="form-group mb-3">
        <label for="product1_name">Product 1 Name (or Pet Name):</label>
        <input type="text" id="product1_name" name="product1_name" class="form-control" [(ngModel)]="product1_name" required />
      </div>
      <div class="form-group mb-3">
        <label for="product1_suggested_euro">Product 1 Market Value (in Euro):</label>
        <input type="text" id="product1_suggested_euro" name="product1_suggested_euro" class="form-control" [(ngModel)]="product1_suggested_euro" required />
      </div>

      <!-- Product 2 -->
      <div class="form-group mb-3">
        <label for="product2_description">Product 2 Description:</label>
        <textarea id="product2_description" name="product2_description" class="form-control" rows="2" [(ngModel)]="product2_description" required></textarea>
      </div>
      <div class="form-group mb-3">
        <label for="product2_name">Product 2 Name (or Pet Name):</label>
        <input type="text" id="product2_name" name="product2_name" class="form-control" [(ngModel)]="product2_name" required />
      </div>
      <div class="form-group mb-3">
        <label for="product2_suggested_euro">Product 2 Market Value (in Euro):</label>
        <input type="text" id="product2_suggested_euro" name="product2_suggested_euro" class="form-control" [(ngModel)]="product2_suggested_euro" required />
      </div>

      <!-- Product 3 -->
      <div class="form-group mb-3">
        <label for="product3_description">Product 3 Description:</label>
        <textarea id="product3_description" name="product3_description" class="form-control" rows="2" [(ngModel)]="product3_description" required></textarea>
      </div>
      <div class="form-group mb-3">
        <label for="product3_name">Product 3 Name (or Pet Name):</label>
        <input type="text" id="product3_name" name="product3_name" class="form-control" [(ngModel)]="product3_name" required />
      </div>
      <div class="form-group mb-3">
        <label for="product3_suggested_euro">Product 3 Market Value (in Euro):</label>
        <input type="text" id="product3_suggested_euro" name="product3_suggested_euro" class="form-control" [(ngModel)]="product3_suggested_euro" required />
      </div>
    </form>

    <!-- Loading Animation -->
  <div *ngIf="isLoading" class="text-center mb-4">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p>Generating AI image and updating product data...</p>
  </div>

  <!-- Generate Button -->
  <div class="text-center">
    <button class="btn btn-primary" (click)="generateAIImageWithProducts()" [disabled]="isLoading">
      Generate
    </button>
  </div>

  </div>

  <hr>

  <!-- View Results Button -->
  <div class="text-center mt-4" *ngIf="isGenerated">
    <p>Click the "View Results" button to proceed</p>
    <button class="btn btn-success" (click)="navigateToImageGenerator2()">View Results</button>
  </div>
</div>

