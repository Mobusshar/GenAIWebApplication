<div class="container my-5">
  <h1 class="text-center mb-4 text-uppercase text-primary">Story Completions Phase</h1>

  <!-- Story Building Phase Introduction -->
  <div class="text-center text-muted mb-4" style="border: 3px solid #17a2b8; padding: 25px; border-radius: 15px; background-color: #e9f7fa;">
    <h3 class="text-info"> Task: Exploring Human Emotions Through Storytelling </h3>
    <p style="color: #555; font-weight: 600; font-size: 1.1rem;">
      Welcome to this reflective and immersive exercise! Today, we’ll be diving deep into the complex world of human emotions—a rich and intricate landscape that shapes everything from our decisions to our dreams.
    </p>
    <h4 class="text-primary"> Did you know?</h4>
    <p style="color: #555; font-weight: 500; font-size: 1rem;">
      Humans are capable of experiencing thousands of emotions, often blending together in subtle and unpredictable ways. Some are fleeting like a passing cloud, while others leave lasting imprints on our minds. From joy to jealousy, pride to panic—every emotion tells a story.
    </p>
    <h4 class="text-info"> In this activity:</h4>
    <p style="color: #555; font-weight: 500; font-size: 1rem;">
      We’ll narrow our focus to 15 distinct emotions, each playing a unique role in shaping a narrative. Your task is to explore how these emotions unfold in the life of a character you create.
    </p>
    <h4 class="text-warning">🔧 What to Do:</h4>
    <ul style="text-align: left; color: #555; font-weight: 500; font-size: 1rem;">
      <li><strong>Create a character:</strong> Begin by choosing a male character name—this will be the main figure navigating the emotional journey.</li>
      <li><strong>Read the story passage carefully:</strong> Take your time and read the full narrative. This story is designed to show emotional transitions—pay close attention to how feelings shift throughout the events.</li>
      <li><strong>Work with your teammate:</strong> Discuss how the character might be feeling in different parts of the story. Try to empathize with the character—put yourself in their shoes.</li>
      <li><strong>Learn about the emotions:</strong> Click the “View Emotion Descriptions” button to read short explanations and examples of the 15 emotions. This will help guide your interpretations.</li>
      <li><strong>Complete the story’s emotional arc:</strong> You'll find 15 empty fields, each representing a moment where the character experiences one of the identified emotions. For each field, write 1–2 sentences explaining how that emotion is expressed or felt in that part of the story. Don’t leave any field blank—each emotion plays an important role!</li>
      <li><strong>Add a meaningful ending:</strong> After completing the emotional journey, give your story a final touch: Write a moral or title in a single sentence that reflects the message or essence of the story.</li>
    </ul>
    <h4 class="text-danger">Ready to move on?</h4>
    <p style="color: #555; font-weight: 500; font-size: 1rem;">
      When everything is filled out, click “Update” to proceed to the next stage of the exercise.
    </p>
    <p style="color: #555; font-weight: 500; font-size: 1rem;">
      💡 <strong>Remember:</strong> This task isn’t just about filling blanks—it’s about understanding human emotion on a deeper level. The more you connect with the character, the more powerful your story will be.
    </p>
  </div>

  <div class="text-center my-4">
    <button type="button" class="btn btn-info btn-lg" data-bs-toggle="modal" data-bs-target="#emotionModal">
      View Emotion Descriptions
    </button>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="emotionModal" tabindex="-1" aria-labelledby="emotionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-primary" id="emotionModalLabel">Emotion Descriptions</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table class="table table-bordered table-hover">
            <thead class="table-info">
              <tr>
                <th>Emotion</th>
                <th>Description</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Frustration 😤</td>
                <td>Feeling annoyed or upset when something doesn’t go your way.</td>
                <td>Trying to solve a math problem but getting the wrong answer every time.</td>
              </tr>
              <tr>
                <td>Sadness 😢</td>
                <td>Feeling unhappy or down, often because of loss or disappointment.</td>
                <td>A child losing their favorite toy and feeling heartbroken.</td>
              </tr>
              <tr>
                <td>Fear 😨</td>
                <td>A strong feeling of worry or danger.</td>
                <td>Hearing a loud noise in the dark when you're home alone.</td>
              </tr>
              <tr>
                <td>Anger 😡</td>
                <td>Feeling mad because something feels unfair or wrong.</td>
                <td>Someone cuts in front of you in a long line.</td>
              </tr>
              <tr>
                <td>Empathy 🧡</td>
                <td>Understanding and sharing someone else’s feelings.</td>
                <td>Seeing a friend cry and feeling sad for them.</td>
              </tr>
              <tr>
                <td>Gratitude 🙏</td>
                <td>Feeling thankful for something or someone.</td>
                <td>Appreciating a friend who helped you when you needed support.</td>
              </tr>
              <tr>
                <td>Protectiveness 🛡️</td>
                <td>The strong urge to keep someone safe.</td>
                <td>A parent holding their child’s hand tightly when crossing the street.</td>
              </tr>
              <tr>
                <td>Serenity 🌿</td>
                <td>A peaceful and calm feeling.</td>
                <td>Sitting by a quiet lake, listening to the gentle sound of the water.</td>
              </tr>
              <tr>
                <td>Joy 😄</td>
                <td>A feeling of great happiness.</td>
                <td>A child opening a gift and finding their dream toy inside.</td>
              </tr>
              <tr>
                <td>Hope ✨</td>
                <td>Believing that something good will happen in the future.</td>
                <td>Studying hard because you believe you’ll pass the exam.</td>
              </tr>
              <tr>
                <td>Friendship 🤝</td>
                <td>A deep and meaningful connection with someone.</td>
                <td>Sharing secrets and laughs with a best friend.</td>
              </tr>
              <tr>
                <td>Relief 😌</td>
                <td>Feeling relaxed after stress or worry goes away.</td>
                <td>Finding your lost phone after thinking it was gone forever.</td>
              </tr>
              <tr>
                <td>Compassion 💞</td>
                <td>Caring about someone’s suffering and wanting to help.</td>
                <td>Helping an injured bird and taking care of it.</td>
              </tr>
              <tr>
                <td>Self-Reflection 🤔</td>
                <td>Thinking deeply about yourself, your actions, and your choices.</td>
                <td>Realizing you were wrong in an argument and deciding to apologize.</td>
              </tr>
              <tr>
                <td>Inspiration 🌟</td>
                <td>Feeling motivated to do something great.</td>
                <td>Watching a successful athlete and deciding to train hard for your own goals.</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="card p-4 shadow-lg">
    <!-- Angular form -->
    <form (ngSubmit)="onUpdate()" #updateForm="ngForm">
      <!-- Character Name -->
      <div class="row mb-4">
        <label for="story_character" class="col-sm-4 col-form-label text-primary fw-bold">Character Name (Please choose a Male name)</label>
        <div class="col-sm-8">
          <input type="text" id="story_character" name="story_character" required #storyCharacter="ngModel" class="form-control border border-primary" [(ngModel)]="story_character" placeholder="Enter a male character name">
          <div *ngIf="storyCharacter.invalid && storyCharacter.touched" class="text-danger">
            Character name is required.
          </div>
        </div>
      </div>

      <!-- Story Text with Emotions -->
      <div class="row mb-3">
        <div class="col-sm-12">
          <p>
            {{story_character}} was indeed a very hardworking man who put in all his efforts in all possible ways. Every morning he woke up early and got prepared for work meticulously to support his family most effectively. But unfortunately, things started going totally non-synchronized, one fine day.
            This particular morning, the alarm failed to ring, and therefore {{story_character}} woke up late. In haste he got up and started living his daily life. He wore a shirt on which some coffee spilled and he got out just missing the usual bus. The rest of it was forced to be walked under a chilly and drizzling rain to get to work. {{story_character}} noted how the rain fell and continued to match his steadily growing exasperation and sense of unluckiness.
          </p>
          <textarea id="frustration" name="frustration" required #frustrationField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="frustration" placeholder="Describe the frustration 😤" title="Feeling annoyed or upset when something doesn’t go your way. Example: Trying to solve a math problem but getting the wrong answer every time." rows="4"></textarea>
          <div *ngIf="frustrationField.invalid && frustrationField.touched" class="text-danger">
            Frustration is required.
          </div>
          <p>
            Thanks to the plethora of obstacles piling up in his life, he had exceeded that last point and went further. He had finally made it to work, only to continue discovering frustration. His computer failed him on an important assignment, and everyone else seemed too busy burning their bridges to offer assistance. Every tiny mishap continued accumulating, leaving him tired and muffling up the morale. {{story_character}} heaved a frustrated sigh, staring at his screen, feeling utterly defeated by everything around him.
          </p>  
          <textarea id="sadness" name="sadness" required #sadnessField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="sadness" placeholder="Describe the sadness 😢" title="Feeling unhappy or down, often because of loss or disappointment. Example: A child losing their favorite toy and feeling heartbroken." rows="4"></textarea>
          <div *ngIf="sadnessField.invalid && sadnessField.touched" class="text-danger">
            Sadness is required.
          </div>
          <p>
            Things couldn't get any worse, just as he thought. His boss calls him into the office. "{{story_character}}, your work has been sloppy lately," said the boss coldly. He added, "If this continues, we may need to reconsider your position here." A sudden wave of fear gripped him.
          </p>
          <textarea id="fear" name="fear" required #fearField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="fear" placeholder="Describe the fear 😨" title="A strong feeling of worry or danger. Example: Hearing a loud noise in the dark when you're home alone." rows="4"></textarea>
          <div *ngIf="fearField.invalid && fearField.touched" class="text-danger">
            Fear is required.
          </div>
          <p>  
            He had worked tireless days; now, one bad day could cost him everything. His hands trembled leaving the office; his heart was pounding.
          </p>
          <p>
            At lunch hour, {{story_character}} sat there alone, gripping a sandwich with white knuckle fingers. One coworker bumped into him; his food hit the floor. "Hey, watch it {{story_character}}," the man dismissively muttered. That was the last straw. Anger erupted in {{story_character}}'s chest.
          </p>
          <textarea id="anger" name="anger" required #angerField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="anger" placeholder="Describe the anger 😡" title="Feeling mad because something feels unfair or wrong. Example: Someone cuts in front of you in a long line." rows="4"></textarea>
          <div *ngIf="angerField.invalid && angerField.touched" class="text-danger">
            Anger is required.
          </div>
          <p>
            "Are you kidding me?!," he snapped, standing abruptly. But when he saw both men's shocked look, he bit his tongue and stormed out to seethe.
          </p>
          <p>
            After a rough day at work, in busy streets {{story_character}} walked home. There were thousands of things racing through his mind frustration, worry, exhaustion, and everything too. It was then that he saw an elderly lady standing at a very crowded sidewalk. Cars rushed past, and she looked like she didn't have the courage to cross such a busy road. Although he was so much into his own trouble, somehow there was that tug he could feel within him to help.
          </p>
          <textarea id="empathy" name="empathy" required #empathyField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="empathy" placeholder="Describe the empathy 🧡" title="Understanding and sharing someone else’s feelings. Example: Seeing a friend cry and feeling sad for them." rows="4"></textarea>
          <div *ngIf="empathyField.invalid && empathyField.touched" class="text-danger">
            Empathy is required.
          </div>
          <p>
            He did stop for a moment. "I am already having my worst day. Why even bother?" But this egoistic thought was removed from his mind. Something very deep was urging him forward. He went to her and said, "May I help you cross over the street?"
            The eyes of the woman brightened up instantaneously with an illumination associated with relief.
          </p>  
          <textarea id="gratitude" name="gratitude" required #gratitudeField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="gratitude" placeholder="Describe the gratitude 🙏" title="Feeling thankful for something or someone. Example: Appreciating a friend who helped you when you needed support." rows="4"></textarea>
          <div *ngIf="gratitudeField.invalid && gratitudeField.touched" class="text-danger">
            Gratitude is required.
          </div>
          <p>
            "Oh, it would be a wonderful favor." He carefully took her across this street, protecting her from the flow of impatient rushing cars.
          </p>  
          <textarea id="protectiveness" name="protectiveness" required #protectivenessField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="protectiveness" placeholder="Describe the protectiveness 🛡️" title="The strong urge to keep someone safe. Example: A parent holding their child’s hand tightly when crossing the street." rows="4"></textarea>
          <div *ngIf="protectivenessField.invalid && protectivenessField.touched" class="text-danger">
            Protectiveness is required.
          </div>
          <p>  
            When they reached just at the other side of the street, the woman squeezed his hand, saying, "You have a very kind heart, young man."
          </p>
          <p>
            At that moment, for the first time in a long time, something inside {{story_character}} changed. He found peace in this simple act of kindness to a stranger that would have been missing from his life for a while now.
          </p>
          <textarea id="serenity" name="serenity" required #serenityField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="serenity" placeholder="Describe the serenity 🌿" title="A peaceful and calm feeling. Example: Sitting by a quiet lake, listening to the gentle sound of the water." rows="4"></textarea>
          <div *ngIf="serenityField.invalid && serenityField.touched" class="text-danger">
            Serenity is required.
          </div>
          <p>
            Later that night, {{story_character}} reached home only to find an unexpected surprise lying on his doorstep: a tiny little package along with a handwritten note. The note written by the elderly lady acknowledged her heartfelt gratitude. Within that package was a pair of gloves with a simple message inscribed, "Kindness is a reward."
            {{story_character}}'s eyes went wide as he read the note, and warmth began to swell in his chest.
          </p>
          <textarea id="joy" name="joy" required #joyField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="joy" placeholder="Describe the joy 😄" title="A feeling of great happiness. Example: A child opening a gift and finding their dream toy inside." rows="4"></textarea>
          <div *ngIf="joyField.invalid && joyField.touched" class="text-danger">
            Joy is required.
          </div>
          <p>
            And for the first time that day, that was a smile of {{story_character}}'s that could be described as genuine.
          </p>
          <p>
            It has changed the entire scenario; most importantly, it brings some happiness and brightness. Even on a day that feels like it was filled with constant misfortunes, it feels great to have one's kindness appreciated and recognized. In the end, it just goes to show-and point out, really-that even on the worst days, such an act, no matter the proportion, can change everything.
          </p>
          <textarea id="hope" name="hope" required #hopeField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="hope" placeholder="Hope ✨" title="Believing that something good will happen in the future. Example: Studying hard because you believe you’ll pass the exam." rows="4"></textarea>
          <div *ngIf="hopeField.invalid && hopeField.touched" class="text-danger">
            Hope is required.
          </div>
          <p>
            Inspired by the experience, he determined to keep helping others, though difficult his circumstances became.
          </p>
          <p>
            The next morning came into play with the strangest of happenings. As he entered his work, he saw the coworker whom he had snapped at yesterday. It would have been easy to ignore him, but instead {{story_character}} took a breath and said, "Hey... I'm sorry about yesterday." The man blinked at him in surprise, then laughed and said, "No worries, {{story_character}}. I was in a bad mood, too." Then they shook hands, and for the first time ever, {{story_character}} felt a sense of kinship with another human being in the workplace.
          </p>  
          <textarea id="friendship" name="friendship" required #friendshipField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="friendship" placeholder="Friendship 🤝" title="A deep and meaningful connection with someone. Example: Sharing secrets and laughs with a best friend." rows="4"></textarea>
          <div *ngIf="friendshipField.invalid && friendshipField.touched" class="text-danger">
            Friendship is required.
          </div>
          <p>
            Thus, {{story_character}} was called again by his boss, only this time the tone was entirely different. "I've been watching you, {{story_character}}. I see improvement. Keep it up." Relief flooded {{story_character}}'s chest.
          </p>  
          <textarea id="relief" name="relief" required #reliefField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="relief" placeholder="Relief 😌" title="Feeling relaxed after stress or worry goes away. Example: Finding your lost phone after thinking it was gone forever." rows="4"></textarea>
          <div *ngIf="reliefField.invalid && reliefField.touched" class="text-danger">
            Relief is required.
          </div>
          <p>
            He was convinced he might well be on the verge of losing everything; instead there turned out to be a way forward.
          </p>
          <p>
            He could feel the care for others in him-from within. He now knew how much people's suffering mirrored with his own, and for the first time, he felt other people's suffering with a weight never felt before.
          </p>  
          <textarea id="compassion" name="compassion" required #compassionField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="compassion" placeholder="Compassion 💖" title="Caring about someone’s suffering and wanting to help. Example: Helping an injured bird and taking care of it." rows="4"></textarea>
          <div *ngIf="compassionField.invalid && compassionField.touched" class="text-danger">
            Compassion is required.
          </div>
          <p>  
            He reflected on how he had judged people too early, not understanding that they had unseen burdens much like himself.
          </p>
          <p>
            He sat in silent deliberation, understanding what this harsh day really meant for him. He had thought that suffering hardship meant only pain but has now discovered the hidden meaning within.
          </p>  
          <textarea id="self_reflection" name="self_reflection" required #self_reflectionField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="self_reflection" placeholder="Self-Reflection 🧠" title="Thinking deeply about yourself, your actions, and your choices. Example: Realizing you were wrong in an argument and deciding to apologize." rows="4"></textarea>
          <div *ngIf="self_reflectionField.invalid && self_reflectionField.touched" class="text-danger">
            Self-Reflection is required.
          </div>
          <p>  
            It has brought him under fire and has helped him to discover more deeply his understanding of himself and his environment.
          </p>
          <p>
            As a bright candle of hope, his story spread all over the community. People started thinking that no matter how wrong life seems at times, small acts of generosity and care could create ripples of change. The unlucky day for {{story_character}} became a historic day-proving that every challenge has a chance to make this world a bit brighter.
          </p>
          <textarea id="inspiration" name="inspiration" required #inspirationField="ngModel" class="form-control border border-warning rounded-3" [(ngModel)]="inspiration" placeholder="Inspiration 🌟" title="Feeling motivated to do something great. Example: Watching a successful athlete and deciding to train hard for your own goals." rows="4"></textarea>
          <div *ngIf="inspirationField.invalid && inspirationField.touched" class="text-danger">
            Inspiration is required.
          </div>
          <p>
            <!-- Moral or Theme -->
            <label for="story_moral" class="col-sm-4 col-form-label text-end">Moral or Title of the Story</label>
          </p>
          <textarea id="story_moral" name="story_moral" required #storyMoralField="ngModel" class="form-control border border-primary rounded-3" [(ngModel)]="story_moral" placeholder="Write the moral or title of the story" rows="3"></textarea>
          <div *ngIf="storyMoralField.invalid && storyMoralField.touched" class="text-danger">
            Moral of the story is required.
          </div>
        </div>
      </div>

      <!-- Submit button -->
      <div class="text-center">
        <button type="submit" class="btn btn-primary btn-lg mt-3">Update</button>
      </div>
    </form>
  </div>
</div>
